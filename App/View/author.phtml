<?php
/**
 * @var App\Blocks\Block $this->model $this of block class for author
 */
?>

<div class="content-container">
    <div class="entity-container">
        <div class="entity-container__side-block">

            <?php
            $data = $this->model->getData();
            ?>
            <div class="entity-container__info-block">
                <h2><?= htmlspecialchars($data['name']) ?></h2>
            </div>

            <div class="entity-container__left-buttons">
                <a href="/editAuthor?id=<?= htmlspecialchars($data['id']) ?>" class="entity-container__button">
                    Редактировать
                </a>

                <a href="/deleteAuthor?id= <?= htmlspecialchars($data['id']) ?>" class="entity-container__button">
                    Удалить
                </a>
            </div>
        </div>

        <div class="entity-container__side-block">
            <div class="entity-container__info-block entity-container__info-block_table">
                <div class="table">
                    <div class="table__header">
                        <div class="table__field">Дата</div>
                        <div class="table__field">Книга</div>
                    </div>
                    <?php foreach ($this->model->getBooks() as $author): ?>
                        <div class="table__row">
                            <div class="table__field"><?= htmlspecialchars($author['year']) ?></div>
                            <div class="table__field"><?= htmlspecialchars($author['name']) ?></div>
                        </div>
                    <?php endforeach;?>
                </div>
            </div>
            <a href="/books?author_id=<?= htmlspecialchars($data['id']) ?>" class="entity-container__button">
                Все книги
            </a>
        </div>
    </div>
</div>
