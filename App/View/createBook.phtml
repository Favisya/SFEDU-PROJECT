<?php
/**
 * @var App\Blocks\FormBlock $this->model of block class for creation
 */
?>
<?php $data = $this->model['bookModel']->getData() ?>
<div class="content-container">
    <form method="post" action="">
        <div class="entity-container entity-container_column">

            <input
                    id="token"
                    name="token"
                    type="hidden"
                    value="<?= $this->getToken() ?>"
            >

            <span class="entity-container__input-row">
                <label for="bookName"> Название книги:</label>
                <input
                    id="bookName"
                    name="bookName"
                    placeholder="Book name"
                    value="<?= $data['name'] ?>"
                    required
                >
            </span>

            <span class="entity-container__input-row">
                <label for="price"> Цена: </label>
                <input
                    id="price"
                    type="number"
                    name="bookPrice"
                    placeholder="price"
                    value="<?= $data['price'] ?>"
                    required
                >
            </span>

            <span class="entity-container__input-row">
                <label for="author"> Автор:</label>
                <select name="authorId" required id="author">
                    <option disabled>Выберите Автора</option>
                    <?php foreach ($this->model['authorsModel']->getData() as $author): ?>
                        <option value="<?= $author['id'] ?>">
                            <?= $author['name'] ?>
                        </option>
                    <?php endforeach; ?>
                </select>
            </span>

            <span class="entity-container__input-row">
                <label for="country">Страна: </label>
                <select name="countryId" id="country">
                    <option disabled>Выберите страну</option>
                    <?php foreach ($this->model['countriesModel']->getData() as $country): ?>
                        <option value="<?= $country['id'] ?>">
                            <?= $country['name'] ?>
                        </option>
                    <?php endforeach; ?>
                </select>
            </span>

            <span class="entity-container__input-row">
                <label for="publisher"> Издатель: </label>
                <select id="publisher" name="publisherId" required>
                    <option disabled>Выберите издателя</option>
                    <?php foreach ($this->model['publishersModel']->getData() as $category): ?>
                        <option value="<?= $category['id'] ?>">
                            <?= $category['name'] ?>
                        </option>
                    <?php endforeach; ?>
                </select>
            </span>

            <span class="entity-container__input-row">
                <label for="category"> Жанр: </label>
                <select id="category" name="categoryId" required>
                    <option disabled>Выберите Жанр</option>
                    <?php foreach ($this->model['categoriesModel']->getData() as $category): ?>
                        <option value="<?= $category['id'] ?>">
                            <?= $category['name'] ?>
                        </option>
                    <?php endforeach; ?>
                </select>
            </span>

            <span class="entity-container__input-row">
                <label for="date"> Дата написания</label>
                <input
                    id="date"
                    type="date"
                    name="bookDate"
                    required
                >
            </span>

            <input type="submit" name="newBook" class="entity-container__button entity-container__button_small">
        </div>
    </form>
</div>