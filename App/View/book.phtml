<?php
/**
 * @var App\Blocks\Block $this->model $this of block class for book
 */
?>

<div class="content-container">
    <div class="entity-container">
        <div class="entity-container__side-block">

            <?php
                $data = $this->model->getData();
            ?>
            <div class="entity-container__info-block">
                <h2><?= htmlspecialchars($data['name']) ?></h2>
                <p><?= htmlspecialchars($data['author']) ?></p>
            </div>

            <div class="entity-container__info-block">
                <p>
                    category
                </p>
                <p>
                    <?= htmlspecialchars($data['country']) . ' ' . htmlspecialchars($data['date']) ?>
                </p>
                <p>
                    <?= 'Издатель: ' . htmlspecialchars($data['publisher']) ?>
                </p>
                <p>
                    <?= 'Цена: ' . htmlspecialchars($data['price']) . 'p'?>
                </p>
            </div>

            <div class="entity-container__left-buttons">
                <a href="/editBook?id=<?= htmlspecialchars($data['id']) ?>" class="entity-container__button">
                    Редактировать
                </a>

                <a href="/deleteBook?id=<?= htmlspecialchars($data['id']) ?>" class="entity-container__button">
                    Удалить
                </a>

                <a href="/author?id=<?= htmlspecialchars($data['author_id']) ?>" class="entity-container__button">
                    Автор
                </a>
            </div>
            <a href="/takeBook?id=<?= htmlspecialchars($data['id']) ?>" class="entity-container__button">
                Взять книгу
            </a>
        </div>

        <div class="entity-container__side-block">
            <div class="entity-container__info-block entity-container__info-block_table">
                <div class="table">
                    <div class="table__header">
                        <div class="table__field">кол-во</div>
                        <div class="table__field">библиотека</div>
                    </div>
                    <?php foreach ($this->model->getLibs() as $library): ?>
                        <div class="table__row">
                            <div class="table__field"><?= htmlspecialchars($library['count']) ?></div>
                            <div class="table__field"><?= htmlspecialchars($library['library']) ?></div>
                        </div>
                    <?php endforeach;?>
                </div>
            </div>

            <a href="" class="entity-container__button">
                Весь список
            </a>
        </div>
    </div>
</div>
